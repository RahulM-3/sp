import librosa
import librosa.display
import matplotlib.pyplot as plt
import numpy as np
from IPython.display import Audio
import os

# Step 2: Set your local speech file path here (change this!)
filename = "C:\\Users\\maris\\Downloads\\pure-tone.wav"  # ⬅️ Replace with your actual file path

# Step 3: Load the audio
if not os.path.exists(filename):
    raise FileNotFoundError("Audio file not found!")

audio, sr = librosa.load(filename, sr=None)
print(f"Loaded: {filename}")
print(f"Sample Rate: {sr} Hz")
print(f"Duration: {len(audio)/sr:.2f} seconds")

# Step 4: Extract MFCC features
mfccs = librosa.feature.mfcc(y=audio, sr=sr, n_mfcc=13)

# Step 5: Display MFCCs
plt.figure(figsize=(12, 5))
librosa.display.specshow(mfccs, x_axis='time', sr=sr, cmap='magma')
plt.colorbar(format="%+2.0f")
plt.title("MFCC (13 Coefficients)")
plt.xlabel("Time (s)")
plt.ylabel("MFCC Coefficient Index")
plt.tight_layout()
plt.show()

# Step 6: Playback audio (optional)
display(Audio(audio, rate=sr))
